<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="selectNoticeListCount"> 
		SELECT 
		    COUNT(*) COUNT
		    FROM TB_NOTICE 
		  WHERE STATUS= 'Y'
	</entry>
	<entry key="selectNoticeList">
	    SELECT * 
	      FROM(SELECT ROWNUM RNUM,E.* 
	            FROM (SELECT 
	                        NOTICE_NO
	                       ,NOTICE_TITLE
	                       ,COUNT
	                       ,ENROLL_DATE
	                       ,MANAGER_NAME
	                   FROM TB_NOTICE N
	                JOIN TB_MANAGER ON (WRITER_NO = MANAGER_NO)
	               WHERE N.STATUS='Y'
	               ORDER BY ENROLL_DATE DESC) E)
	               WHERE RNUM BETWEEN ? AND ?
	</entry>
	<entry key="increaseCount">
		UPDATE
			TB_NOTICE
		 SET COUNT = COUNT+1
	  WHERE NOTICE_NO = ?
	  AND STATUS = 'Y'
	</entry>
	<entry key="insertNotice">
		INSERT 
	    INTO TB_NOTICE
	    (
	    NOTICE_NO
	   ,NOTICE_TITLE
	   ,NOTICE_CONTENT
	   ,WRITER_NO
	    )
	    VALUES
	    (
	    SEQ_NNO.NEXTVAL
	   ,?
	   ,?
	   ,?
	    )
	</entry>
	<entry key="insertAttachment">
	INSERT 
	    INTO ATTACHMENT
	    (
	    FILE_NO
	   ,REF_NO
	   ,CHANGE_NAME
	   ,FILE_PATH
	   ,FILE_TYPE
	    )
	    VALUES
	    (
	    SEQ_ATNO.NEXTVAL
	   ,SEQ_NNO.CURRVAL
	   ,?
	   ,?
	   ,3
	    )
	</entry>
	<entry key="selectSearchList">
		SELECT * 
	       FROM (SELECT  ROWNUM RNUM, E.*
	               FROM (SELECT 
	                        NOTICE_NO
	                       ,NOTICE_TITLE
	                       ,NOTICE_CONTENT
	                       ,COUNT
	                       ,ENROLL_DATE
	                       ,MANAGER_NAME
	                   FROM TB_NOTICE N
	                JOIN TB_MANAGER ON (WRITER_NO = MANAGER_NO)
	               WHERE N.STATUS='Y'
	               AND NOTICE_TITLE || NOTICE_CONTENT LIKE '%'||?||'%'
	               ORDER BY ENROLL_DATE DESC) E)
	               WHERE RNUM BETWEEN ? AND ?
	</entry>
</properties>