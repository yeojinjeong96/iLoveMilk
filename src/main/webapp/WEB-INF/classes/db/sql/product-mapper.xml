<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

	<entry key="selectListCount">
		SELECT
		       COUNT(*) COUNT
		  FROM TB_PRODUCT
		 WHERE STATUS = 'Y'
            AND FCATEGORY_NAME = ? OR SCATEGORY_NAME =?
	</entry>

	<entry key ="selectProductList">
		SELECT *
		  FROM (
		        SELECT ROWNUM RNUM, A.*
		          FROM (
		                SELECT
		                	   PRODUCT_NO
		                     , PRODUCT_NAME
		                     , PRICE
		                     , PRODUCT_IMG
		                  FROM TB_PRODUCT B
		                 WHERE B.STATUS = 'Y'
                           AND FCATEGORY_NAME = ? OR SCATEGORY_NAME = ?
		                 ORDER
		                    BY ENROLL_DATE DESC
		                ) A
		        )
		  WHERE RNUM BETWEEN ? AND ? 
	</entry>
	
	<entry key="selectCategoryList">
		SELECT
       DISTINCT FCATEGORY_NAME, SCATEGORY_NAME
		  FROM TB_PRODUCT
		 WHERE FCATEGORY_NAME = (SELECT 
		                               DISTINCT FCATEGORY_NAME
		                          FROM TB_PRODUCT
		                         WHERE SCATEGORY_NAME = ?)
		    OR FCATEGORY_NAME = ?
	</entry>

	<entry key="selectRecentProductList">
	
        SELECT 	
        		   PRODUCT_NO	    
               , PRODUCT_NAME
	            , PRICE
	            , PRODUCT_IMG
          FROM (
                SELECT 
                		PRODUCT_NO	
             	   	   , PRODUCT_NAME
                     , PRICE
                     , PRODUCT_IMG
                  FROM TB_PRODUCT   
                 ORDER 
                    BY ENROLL_DATE DESC    
                )
         WHERE ROWNUM <![CDATA[<=]]> 3 
	</entry>
	
	<entry key="selectProductReview">
	   SELECT
		     	REVIEW_NO
		      , MEMBER_NO
		      , PRODUCT_NAME	
              , REVIEW_CONTENT
              , STAR
              , R_ENROLL_DATE
              , R_MODIFY_DATE
         FROM TB_REVIEW
         JOIN TB_PRODUCT USING (PRODUCT_NO)
        WHERE PRODUCT_NO = ?
          AND R_STATUS = 'Y'	
	</entry>
	
	<entry key="countProductLike">
		SELECT
		       COUNT(*) COUNT
		  FROM TB_PRODUCT_LIKE
		 WHERE PRODUCT_NO = ?
		   AND MEMBER_NO = ?
	</entry>
	
	<entry key="insertProductLike">
		    INSERT 
		      INTO TB_PRODUCT_LIKE
		     (
		            PRODUCT_NO,
		            MEMBER_NO,
		            P_LIKE_DATE
		     )
		     VALUES 
		    (
		        ?,
		        ?,
		        SYSDATE
		    ) 	
	</entry>
	
	<entry key="deleteProductLike">
	    DELETE 
	      FROM TB_PRODUCT_LIKE
	     WHERE PRODUCT_NO = ?
	       AND MEMBER_NO = ?  
	     
	</entry>
	
	<entry key="selectSearchCount">
		SELECT
		       COUNT(*) COUNT
		  FROM TB_PRODUCT
		 WHERE STATUS = 'Y'
           AND PRODUCT_NAME LIKE '%' || ? || '%'
            OR BRAND LIKE '%' || ? || '%'
	</entry>
	
	<entry key ="selectSearchList">
		SELECT *
		  FROM (
		        SELECT ROWNUM RNUM, A.*
		          FROM (
		                SELECT
		                	   PRODUCT_NO
		                     , PRODUCT_NAME
		                     , PRICE
		                     , PRODUCT_IMG
		                  FROM TB_PRODUCT B
		                 WHERE B.STATUS = 'Y'
	                          AND PRODUCT_NAME LIKE '%' || ? || '%'
	                           OR BRAND LIKE '%' || ? || '%'
		                 ORDER
		                    BY ENROLL_DATE DESC
		                ) A
		        )
		  WHERE RNUM BETWEEN ? AND ? 
	</entry>  
	
	<entry key="selectReSearchCount">
		SELECT
		       COUNT(*) COUNT
		        FROM TB_PRODUCT
			   WHERE STATUS = 'Y'
		  
	</entry>
	
	<entry key = "selectResearchList">
				SELECT *
		  FROM (
		        SELECT ROWNUM RNUM, A.*
		          FROM (
		                SELECT
		                	   PRODUCT_NO
		                     , PRODUCT_NAME
		                     , PRICE
		                     , PRODUCT_IMG
						   FROM TB_PRODUCT B
				 		  WHERE B.STATUS = 'Y'
				  
	</entry>
	
	
	<entry key="insertProduct">
	INSERT
	  INTO TB_PRODUCT
	  (
	    PRODUCT_NO
	  , PRODUCT_NAME
	  , PRICE
	  , CAPACITY
	  , BRAND
	  , STOCK
	  , PRODUCT_INFO
	  , FCATEGORY_NAME
	  , SCATEGORY_NAME
	  , PRODUCT_IMG
	  )
	  VALUES
	  (
	    SEQ_PRONO.NEXTVAL
	  , ?
	  , ?
	  , ?
	  , ?
	  , ?
	  , ?
	  , ?
	  , ?
	  , ?
	  )
	</entry>
	
	<entry key ="selectAllListCount">
		SELECT
		       COUNT(*) COUNT
		  FROM TB_PRODUCT
		 WHERE STATUS = 'Y'
	</entry>
	
	<entry key ="selectAllList">
		SELECT *
		  FROM (
		        SELECT ROWNUM RNUM, A.*
		          FROM (
		                SELECT
		                	   PRODUCT_NO
		                     , PRODUCT_NAME
		                     , CAPACITY
		                     , STOCK
		                     , BRAND
		                  FROM TB_PRODUCT B
		                 WHERE STATUS = 'Y'
	</entry>
	
	<entry key="productDetail">
		SELECT
		       PRODUCT_IMG
		     , PRODUCT_NO
		     , FCATEGORY_NAME
		     , SCATEGORY_NAME
		     , PRODUCT_NAME
		     , CAPACITY
		     , BRAND
		     , PRICE
		     , STOCK
		     , PRODUCT_INFO
		     , ENROLL_DATE
		  FROM TB_PRODUCT
		 WHERE STATUS = 'Y'
		   AND PRODUCT_NO = ?
	</entry>
	
	<entry key="updateProduct">
		UPDATE TB_PRODUCT
		   SET PRODUCT_NAME = ?
		     , PRICE = ?
			 , CAPACITY = ?
			 , BRAND = ?
			 , PRODUCT_INFO = ?
			 , FCATEGORY_NAME = ?
			 , SCATEGORY_NAME = ?
			 , PRODUCT_IMG = ?
		 WHERE STATUS = 'Y'
		   AND PRODUCT_NO = ?
	</entry>
	
	<entry key="deleteProduct">
		UPDATE TB_PRODUCT
		   SET STATUS = 'N'
		 WHERE STATUS = 'Y'
		   AND PRODUCT_NO = ?
	</entry>
	
	<entry key="stockProduct">
		INSERT
		  INTO TB_STOCK
		     (
		       STOCK_NO
		     , PRODUCT_NO
		     , COUNT
		     , STATUS
		     )
		VALUES
		     (
		       SEQ_SNO.NEXTVAL
		     , ?
		     , ?
		     , ?
		     )
	</entry>
	
	<entry key="productCartInsert">
		INSERT
		  INTO TB_CART
		  	 (
		  	   PRODUCT_NO
		  	 , MEMBER_NO
		  	 , COUNT
		  	 )
		VALUES
			 (
			   ?
			 , ?
			 , ?
			 )
	</entry>
</properties>